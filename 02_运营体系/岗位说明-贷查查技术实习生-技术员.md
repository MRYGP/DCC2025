# 岗位说明：贷查查技术实习生（技术员）

> 版本：v1.0  
> 更新日期：2025-12-09  
> 所属项目：贷查查 / DCC2025（企业贷款体质诊断与改造系统）  
> 角色定位：技术负责人级实习生 / Agent 架构实习生  
> 主要协作人：松阳（产品 Owner）、会计方向产品实习生

---

## 一、岗位定位与使命

### 1.1 一句话定位

> 把松阳脑子里的「资金体检 + 贷款体质医生」体系，  
> 做成一套可落地的 **诊断引擎 + 银行产品知识库 + 内部工作台**，  
> 让任何人/AI 都能像医生一样给出体检结论和产品建议。

### 1.2 不做什么

- 不负责整理 Excel、抄数据（这是会计实习生的工作）；  
- 不负责单纯写"业务文案"（但需要读懂文档，抽象成规则和 schema）；  
- 不负责销售/对外谈客户（但会参与技术演示和内部培训）。

---

## 二、核心工作主线（3 条）

> 所有工作都可以归到这 3 条主线，优先级按 1 > 2 > 3。

### 主线 1：贷查查诊断引擎（资金体检 → 体质分级 → 建议）

**目标：**  
把《贷款体检7连问》《诊断问卷v1.0》《判断逻辑》做成一个可调用的诊断 API / Agent。

**核心成果：**

1. 在 DCC2025 中搭建诊断服务（建议 FastAPI + Python）：  
   - `/diagnose/basic`：  
     - 输入：7 连问的结构化答案（JSON）；  
     - 输出：  
       - 贷款体质粗判：A / B / C；  
       - 对应的业务大类建议（如：适合 H 体质手术 / 适合直接税贷 / 更适合票据优化）。  
   - `/diagnose/full`：  
     - 输入：诊断问卷 15 题的完整 JSON；  
     - 输出：  
       - 体质评分（可以是 A/B/C + 分数）；  
       - 关键问题列表（3–5 条）；  
       - 建议路径（现在贷 / 先体质改造 / 暂缓）；  
       - 推荐产品类型优先级（税贷/票贷/流贷/抵押等）。

2. 把文档中的判断逻辑翻译成可执行规则 + Agent 工作流：  
   - 规则层：  
     - 黑名单/红线判断（明显不建议贷款的情况）；  
     - 贷款体质分级 A/B/C 的基础规则；  
     - 从痛点 & 偏好反推业务路径（更在意利率/额度/担保/速度）。  
   - Agent 层：  
     - 使用 LLM 对模糊/缺失信息做合理补全或解释；  
     - 生成面向老板的自然语言解释（"为什么判你是 B 体质"等）。

3. 体检报告生成器：  
   - 输入：诊断结果 JSON；  
   - 输出：一份 A4《资金体检简报》草稿（Markdown/HTML），包含：  
     - 体质等级；  
     - 优势 / 问题；  
     - 建议路径；  
     - 推荐产品类型列表。  
   - 要求：报告风格稳定，便于松阳做少量修改后直接发给老板。

---

### 主线 2：银行产品 & 文档知识库（结构化产品库 + RAG）

**目标：**  
把银行产品资料（Word/PDF/Excel/数据库1）和会计实习生整理出的《产品总表.xlsx》，  
做成既能 **结构化筛选** 又能 **文档问答（RAG）** 的产品知识库。

**核心成果：**

1. 产品数据模型设计：  
   - 与松阳 + 会计实习生一起，确定产品字段 schema：  
     - 基本信息：bank_name，product_name，product_type（税贷/票贷/流贷/抵押等），region；  
     - 客户主体：target_customer，min_operation_years，taxpayer_type，禁入行业；  
     - 额度与利率：quota_min/max，quota_formula，rate_min/max，term_min/max，repayment_mode；  
     - 关键财务指标：invoice_requirement，tax_requirement，revenue_requirement，cashflow_requirement；  
     - 抵押/担保/征信：credit_type，collateral_type，guarantee_requirement，credit_history_limit；  
     - 流程与材料：apply_channel，required_docs，process_brief；  
     - 内部标签：fit_body_type，key_improvement_metric，scenario_tag，risk_comment。  
   - 写成 `00_数据结构说明.md`，作为所有人参考的"唯一标准"。

2. 数据 ingest 管道：  
   - 从《产品总表.xlsx》读取结构化产品数据；  
   - 写入：  
     - 关系型数据库（可先用 SQLite/Postgres，本地开发为主）；  
     - 向量库（Chroma/Pinecone 等），用于文档级问答；  
   - 对与产品相关的原始 Word/PDF 做解析与分段，嵌入后关联到对应产品。

3. 产品检索 API：  
   - 结构化检索：`/products/search`  
     - 根据企业体质/票税流水/是否一般纳税人/是否纯信用/额度区间等，筛选产品列表；  
   - 文档问答：`/products/qa`  
     - 输入产品名 + 问题，结合向量检索给出解释（例如：  
       "农行纳税 e 贷 对零申报有什么要求？"  
       "民生惠需要什么流水和纳税证明？"）。

4. 给诊断 Agent 提供工具：  
   - `search_products`：根据诊断结果（体质 + 财务指标）自动拉取候选产品列表；  
   - `explain_product`：解释"为什么推荐这个产品""为了用这个产品需要改善哪些指标"。

---

### 主线 3：内部工作台 & 评估体系

**目标：**  
让内部同事（松阳、会计实习生、未来的业务员/合伙人）  
能够在一个简单的页面里：

- 输入体检结果（或直接在线填问卷）；  
- 一键调用诊断引擎；  
- 查看体检结果 + 推荐产品；  
- 记录实际结果，方便后续评估和调整规则。

**核心成果：**

1. 内部 Web 控制台（可从极简版本做起）：  
   - 功能模块：  
     -「企业体检」：表单输入 7 连问/15 题问卷；  
     -「诊断结果」：展示体质等级、建议路径、推荐产品；  
     -「案例列表」：展示最近 N 次诊断记录，可点击查看详情。  
   - 可用任意熟悉的前端技术（如简单 React + Tailwind），初期仅供内部使用。

2. 诊断记录与回放：  
   - 所有诊断请求与响应落库：  
     - 企业匿名 ID、体检输入、诊断输出、人工反馈结果；  
   - 便于后续：  
     - 回放某个案例；  
     - 检查规则是否合理；  
     - 调整推荐逻辑和提示词。

3. 基础技术监控：  
   - 记录：接口调用次数、错误率、平均响应时间；  
   - 如有必要，增加简单可视化页面或日志说明，帮助后续稳定运行。

---

## 三、阶段性执行计划（时间轴）

> 以「入职时间」为 T0，按阶段规划任务，实际节奏可视情况微调。

### 阶段 1：第 1–2 周 —— 熟悉业务 & 搭出技术骨架

**目标：**  
理解业务 + 跑通最小可用的诊断 API（basic 版）。

**具体任务：**

1. 业务理解（阅读 & 记录问题）：  
   - `sanxiang-piaoju-docs` 中与资金体检相关的核心文档：  
     - 《资金体检与贷款体质手术-总路径图》  
     - 《资金体检医生-定位与标准话术》  
   - `DCC2025` 中：  
     - 《贷款体检7连问完整版v1.0》  
     - 《诊断问卷v1.0》及其字段说明  
   - 输出：一页个人理解笔记（可以是 Markdown），列出关键流程和疑问。

2. 技术骨架：  
   - 在 DCC2025 中创建诊断服务项目结构：  
     - FastAPI 服务；  
     - 基本路由和配置管理。  
   - 实现 `/diagnose/basic` v0.1：  
     - 输入：模拟 7 连问的 JSON（固定结构）；  
     - 输出：根据文档中的规则写死一个体质 A/B/C 和业务大类建议（不用 LLM）。

### 阶段 2：第 3–4 周 —— 完整诊断引擎 + 产品库打通（初版）

**目标：**  
跑通 `/diagnose/full` + 基础产品搜索，把体检结果和产品库联通。

**具体任务：**

1. 诊断数据 schema：  
   - 用 Pydantic 定义 7 连问和 15 题问卷的输入模型；  
   - 明确哪些字段是必填、哪些可选、默认值如何。

2. `/diagnose/full` 初版：  
   - 输入：完整问卷 JSON；  
   - 根据规则：  
     - 计算体质等级；  
     - 输出关键问题列表和建议路径；  
   - 可先不用 LLM，仅用规则实现可解释的逻辑。

3. 产品库基础打通：  
   - 与会计实习生一起确定《产品总表.xlsx》的字段；  
   - 写脚本读取产品总表，导入到本地 DB / JSON 文件；  
   - 实现 `/products/search`：  
     - 支持按产品类型 / 最小开票额 / 最小纳税额 / 是否纯信用 等筛选。

4. 实现诊断 → 产品推荐 的初步流程：  
   - `/diagnose/full` 在输出中附带候选产品列表（通过规则筛选 + 简单排序）。

### 阶段 3：第 2 个月起 —— RAG、报告生成、工作台

**目标：**  
增强诊断质量（RAG + LLM），完成体检报告和内部控制台。

**具体任务：**

1. RAG 集成：  
   - 对银行产品 Word/PDF 文档做解析、分段、向量化；  
   - 实现 `/products/qa` 接口，用于回答产品细节问题。

2. 报告生成 Agent：  
   - 设计 Prompt + 调用 LLM：  
     - 输入诊断结果 + 产品列表；  
     - 输出格式稳定的体检报告（Markdown），包含结论和解释。  

3. 内部工作台 v1：  
   - 实现一个简单前端页面：  
     - 录入企业问卷信息；  
     - 调用诊断 API；  
     - 显示体检结果和推荐产品；  
     - 支持导出/复制体检报告内容。

4. 评估与迭代：  
   - 与松阳、会计实习生一起定期 review：  
     - 推荐是否合理？  
     - 哪些案例明显推荐错了？  
   - 将反馈信息整理为改进需求，分批优化。

---

## 四、协作关系与边界

### 4.1 与松阳

- 松阳提供：业务逻辑、判断规则、典型案例、最终拍板；  
- 技术员负责：技术实现、架构设计、Agent 工作流；  
- 原则：**业务决策不由代码拍板，技术只落地已达成共识的规则和流程。**

### 4.2 与会计方向产品实习生

- 会计实习生：  
  - 整理原始产品文档；  
  - 录入《产品总表.xlsx》；  
  - 做纸面测试与实战记录。  
- 技术员：  
  - 定义字段和数据结构；  
  - 写 ingest 脚本和 API；  
  - 使用测试数据验证逻辑。  
- 原则：**会计实习生喂干净数据，技术实习生让数据"动起来"。**

---

## 五、日常工作节奏与输出

### 5.1 日常节奏（建议）

- 上午：  
  - 阅读/理解新业务文档或产品需求；  
  - 完成当日计划中的编码任务；  
- 下午：  
  - 和松阳/会计实习生对齐字段和规则；  
  - 联调接口、验证逻辑、写基础测试；  
- 每日收尾：  
  - 更新当日进展（完成了什么、遇到什么问题、明天计划什么）。

### 5.2 核心输出物

- 诊断服务 API（文档 + 代码）；  
- 产品库数据结构定义 & ingest 脚本；  
- 内部工作台页面；  
- 简短技术说明文档（给未来工程师/AI 助手看的）。

---

## 六、验收标准（怎么判断阶段完成）

1. 任意一个完整问卷 JSON 丢给 `/diagnose/full`，能输出：  
   - A/B/C 体质；  
   - 3–5 条问题点；  
   - 建议路径 + 3–5 个候选产品。  
2. 对于 10–20 个重点产品：  
   - 已经录入到产品库；  
   - 可以被 `/products/search` 和 `/products/qa` 正确检索和解释。  
3. 内部工作台可用：  
   - 松阳可以在浏览器中完成一次完整体检流程，并生成报告草稿。  
4. 诊断与推荐逻辑经过至少几轮实战案例校验，有记录、有迭代。

> 总结：  
> 这个岗位的价值不在于"写了多少代码"，  
> 而在于：把「资金体检 + 贷款体质医生」这套体系，  
> 变成一个任何人、任何 AI 都能调用的技术系统。

