# Git提交消息乱码修复说明

## 问题描述

仓库中存在以下乱码提交：
1. `f31b464` - 提交消息乱码，应为："feat: 完成竞品对标方案和红队评估（方案B）"
2. `5ec3875` - 提交消息乱码，应为："feat: 添加完整分析框架文档"

## 修复方法

### 方法1：使用Git Bash运行修复脚本（推荐）

1. 打开Git Bash
2. 进入项目目录：`cd /e/dcc2025`
3. 运行修复脚本：
   ```bash
   chmod +x fix-msg-filter.sh
   export FILTER_BRANCH_SQUELCH_WARNING=1
   git filter-branch -f --msg-filter 'bash fix-msg-filter.sh' -- --all
   ```
4. 验证修复结果：
   ```bash
   git log --oneline --all | grep -E "f31b464|5ec3875"
   ```
5. 如果修复成功，强制推送到远程（谨慎操作）：
   ```bash
   git push --force-with-lease origin master
   ```

### 方法2：手动修复（如果方法1不可用）

对于 `f31b464`：
- 本地已有正确的提交 `27f3e57`，内容相同
- 可以直接强制推送本地版本：
  ```bash
  git push --force-with-lease origin master
  ```

对于 `5ec3875`：
- 使用交互式rebase修复：
  ```bash
  git rebase -i 5ec3875^
  ```
- 在编辑器中，将 `5ec3875` 行的 `pick` 改为 `reword`
- 保存后，Git会提示输入新的提交消息，输入："feat: 添加完整分析框架文档"

## 注意事项

⚠️ **重要**：修复提交历史会改变提交哈希，如果这些提交已经推送到远程并被其他人使用，需要协调后再操作。

✅ **已创建备份分支**：`backup-before-fix`，如需恢复可以：
```bash
git reset --hard backup-before-fix
```
