# 贷款中介业务基座 - 完整框架设计文档 v1.0

**文档版本**：v1.0  
**创建日期**：2025-01-25  
**文档目的**：定义贷查查系统的完整基座架构  

---

## 第一部分:核心定位(为什么这样设计)

### 1.0 核心流程 (30秒理解基座)

**最简洁的描述**:

```
输入: 客户资料 (13个字段)
   ↓
处理: 系统诊断 + 匹配
   ↓
输出:
├─ 当下可贷 (金额/银行/利率)
├─ 3个月改造方案 + 效果预览
└─ 6个月改造方案 + 效果预览
   ↓
执行: 任务追踪 + 证据管理
   ↓
复盘: 定期复评 + 失败/成功沉淀
   ↓
循环: 回到"处理"(持续陪跑)
```

**关键理念**: 
- ❌ 不是"一次性诊断报告生成器"
- ✅ 而是"持续陪跑的改造执行系统"
- 核心区别: 诊断 → 方案 → **任务** → **证据** → **复评** → 再诊断(闭环)

---

### 1.1 产品定位

**❌ 我们不是什么?**
- 不是贷款平台(不和融360竞争)
- 不是简单的"效率工具"(不只是提升交付速度)
- 不是"新客户获取"工具(不只是做流量导入)

**✅ 我们是什么?**
- **存量客户复活引擎** + **改造执行系统**
- 帮中介管理"前女友"(历史客户)的系统
- 把"以前没成交"变成"可激活的资产"
- 把"改造建议"变成"可执行的任务"
- 把"时间流逝"变成"体质改善"

**核心隐喻："前女友管理系统"**

中介手里有大量"以前没成交"的客户:
- 当时资质不够(成立时间短、开票不够、征信不好等)
- 但关系还在、需求明确、知根知底
- 时间过去了,可能条件改善了
- 但中介记不住、没系统管理

这些客户就像"前女友":
- ✅ 熟人,信任基础好
- ✅ 基本情况了解(不需要重新调研)
- ✅ 付费意愿明确(想贷但当时贷不到)
- ✅ 沟通成本低(有联系方式,知道痛点)

相比之下,"新客户"其实是"别人的前女友":
- ❌ 情况不明(可能被其他中介接触过)
- ❌ 需要大量试探(凭什么比别人强?)
- ❌ 转化率低(不知道经历了什么)
- ❌ 获客成本高(广告/地推/时间)

**结论**: 与其花大力气追"新欢",不如先把"前女友"盘活。

### 1.2 核心突破点

**中介真正的焦虑**

❌ 不是: 进件不标准、返工多(效率问题)
- → "单子多,加班就行"

✅ 而是: 没有新单子(获客问题)
- → "没单子,才是大问题"

**存量客户的商业价值**

对比分析:

| 维度 | 存量客户(前女友) | 新客户(可能是别人的前女友) |
|-----|---------------|----------------------|
| 信任基础 | ✅ 有(聊过、见过) | ❌ 无(需要建立) |
| 情况了解 | ✅ 知根知底 | ❌ 情况不明 |
| 付费意愿 | ✅ 明确(想贷但条件不够) | ⚠️ 不确定 |
| 沟通成本 | ✅ 低(一个电话) | ❌ 高(需要试探) |
| 转化率 | ✅ 高(20-30%) | ❌ 低(5-10%) |
| 获客成本 | ✅ 0元(已有联系方式) | ❌ 高(广告/地推) |
| ROI | ✅ 清晰可量化 | ❌ 不确定 |

**ROI计算示例**

假设中介有200个历史客户:
- A类(现在能贷): 40个 × 20%成交率 = 8个 × 3万佣金 = 24万
- B类(改造后能贷): 60个 × 30%愿意改造 = 18个
  - 改造服务费: 18个 × 7万(平均) = 126万(我们分润70% = 88万,中介分30% = 38万)
  - 改造后成交: 18个 × 80%成交率 = 14个 × 4万佣金 = 56万

**中介年收入**:
- A类佣金: 24万
- B类改造分润: 38万
- B类佣金: 56万
- 合计: 118万
- 投入: 工具费3.6万/年
- **ROI: 118万 / 3.6万 = 32.8倍**

**我们的年收入(单个中介)**:
- 工具订阅: 3.6万
- 改造服务: 88万
- **合计: 91.6万/年/中介**

关键洞察: **改造服务收入 >> 工具订阅收入**

### 1.3 设计原则

**原则1: 数据驱动**
- 所有功能基于数据流
- 数据可追溯、可导出、可复盘
- 数据积累越多,系统越准

**原则2: 闭环设计**
- 不是"一次性诊断",而是"持续陪跑"
- 诊断 → 改造 → 复评 → 再诊断(循环)
- 失败 → 沉淀 → 优化 → 再尝试(循环)
- 成功 → 复制 → 扩展 → 更多成功(循环)

**原则3: 可扩展**
- 分层架构,每层独立可优化
- 模块化设计,模块间松耦合
- 配置化驱动,不需要改代码
- 从V0简单规则 → V1复杂规则 → V2机器学习

**原则4: 可追溯**
- 所有操作留痕(谁、什么时候、做了什么)
- 时间线可视化(所有动作一目了然)
- 失败原因结构化(知道为什么不行)
- 成功案例可复制(知道为什么行)

**原则5: 可执行性 (避免成为报告生成器)**

这是基座最关键的原则！

- ❌ 不是: 生成漂亮的诊断报告就结束
- ✅ 而是: 报告 → 任务 → 证据 → 追踪 → 复盘(完整闭环)

**关键设计点**:
1. **改造方案必须拆解成任务**
   - 不是"建议开票提升到50万"
   - 而是"任务1: 联系服务商(责任人: 中介, 截止: X月X日)"
   
2. **任务必须有证据要求**
   - 不是"完成了"
   - 而是"上传发票复印件(版本1, 上传时间: X月X日)"
   
3. **必须有复盘机制**
   - 不是"3个月后看看有没有效果"
   - 而是"系统自动触发复评, 生成变化报告, 记录原因"

**GPT的警告**: 如果没有"执行追踪"和"复盘机制"，基座会变成"漂亮的报告生成器"，很难真的陪跑起来。

---

**关键区别: 基座 vs Demo**

| 维度 | Demo(演示原型) | 基座(完整系统) |
|-----|-------------|-------------|
| 目标 | 展示概念 | 真实可用 |
| 数据 | 假数据、硬编码 | 真实数据、数据库 |
| 流程 | 单向流程 | 完整闭环 |
| 追溯 | 无历史记录 | 所有操作留痕 |
| 扩展 | 改代码 | 改配置 |
| 迭代 | 推倒重来 | 渐进演进 |

---

## 第二部分: 六层架构(系统设计核心)

### 2.1 总体架构图

```
┌─────────────────────────────────────────────────────────┐
│  第1层: 数据输入层(客户画像)                            │
│  • 客户档案系统                                          │
│  • 结构化字段(13个最小集)                              │
│  • 历史记录(失败原因、材料版本)                         │
└─────────────────────────────────────────────────────────┘
              ↓
┌─────────────────────────────────────────────────────────┐
│  第2层: 规则引擎层(产品库+匹配逻辑)                     │
│  • 银行产品库(准入条件+材料要求)                        │
│  • 匹配算法(当下符合哪些产品)                          │
│  • 缺口识别(差什么、差多少)                            │
└─────────────────────────────────────────────────────────┘
              ↓
┌─────────────────────────────────────────────────────────┐
│  第3层: 诊断输出层(当下评估)                           │
│  • 健康分(0-1000分)                                    │
│  • 当下可贷(产品+额度+利率)                            │
│  • 缺口清单(结构化+可量化)                             │
└─────────────────────────────────────────────────────────┘
              ↓
┌─────────────────────────────────────────────────────────┐
│  第4层: 改造方案层(3个月+6个月)                         │
│  • 方案库(12个改造方案)                                │
│  • 方案匹配(缺口→方案)                                 │
│  • 效果预览(改造后可贷多少)                            │
│  • 方案对比(ROI计算)                                   │
└─────────────────────────────────────────────────────────┘
              ↓
┌─────────────────────────────────────────────────────────┐
│  第5层: 执行追踪层(任务+留痕)                           │
│  • 任务系统(谁做什么、什么时候)                         │
│  • 证据管理(上传、验证、版本)                          │
│  • 时间线(所有操作留痕)                                │
│  • 自动提醒(到期触发)                                  │
└─────────────────────────────────────────────────────────┘
              ↓
┌─────────────────────────────────────────────────────────┐
│  第6层: 复盘闭环层(再评估+学习)                         │
│  • 定期复评(健康分变化)                                │
│  • 失败原因库(结构化沉淀)                              │
│  • 成功案例库(可复制经验)                              │
│  • 数据导出(中介可带走)                                │
└─────────────────────────────────────────────────────────┘
```

**数据流方向**:
- 主流程: 第1层 → 第2层 → 第3层 → 第4层 → 第5层 → 第6层
- 闭环: 第6层复评后,数据回流到第2层,重新诊断

**关键设计特点**:
1. **分层清晰**: 每层职责单一,可独立优化
2. **数据驱动**: 所有层之间通过数据通信
3. **可扩展**: 每层都可以V0→V1→V2演进
4. **可追溯**: 第5层记录所有操作,第6层复盘分析

---

## 第三部分: 详细设计(分层拆解)

### 3.1 第1层: 数据输入层

#### 3.1.1 模块设计

**模块1: 客户档案系统**

基础信息(6个字段):
- 企业名称: TEXT, 必填
- 行业类型: TEXT, 下拉选择(制造业/贸易/科技/服务业等), 必填
- 注册资本: REAL, 单位万元, 必填
- 成立时间: DATE, 年月, 必填
- 贷款需求金额: REAL, 单位万元, 必填
- 贷款用途: TEXT, 下拉选择(流动资金/设备采购/扩大经营等), 必填

财务信息(4个字段):
- 年开票额: REAL, 单位万元, 必填
- 年纳税额: REAL, 单位万元, 必填
- 月流水: REAL, 单位万元(平均), 必填
- 有无抵押物: BOOLEAN, 是/否, 可选

征信信息(3个字段):
- 法人征信: TEXT, 下拉选择(好/一般/差), 必填
- 企业征信: TEXT, 下拉选择(好/一般/差), 必填
- 当前负债: REAL, 单位万元, 可选

历史记录:
- 历史申请记录: JSON数组(银行、产品、时间、结果)
- 失败原因: TEXT, 结构化标签(多选)
- 材料版本记录: JSON数组(材料类型、版本号、上传时间)

**模块2: 输入方式**
- V0: 手工录入(Web表单)
- V1: Excel批量导入(模板下载 → 填写 → 上传)
- V2: OCR识别(拍照营业执照/财务报表自动识别)

**模块3: 数据治理**
- 字段定义: 明确必填/可选、数据类型、取值范围
- 数据来源标注: 记录数据从哪里来(手工输入/Excel/OCR/API)
- 授权与用途说明: 明确告知客户数据如何使用
- 最小化采集原则: 只采集必需的13个字段,不过度收集

#### 3.1.2 数据结构

```sql
-- 客户档案表
CREATE TABLE customers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  company_name TEXT NOT NULL,
  industry TEXT NOT NULL,
  registered_capital REAL NOT NULL,
  established_date DATE NOT NULL,
  loan_amount_required REAL NOT NULL,
  loan_purpose TEXT NOT NULL,
  annual_invoice REAL NOT NULL,
  annual_tax REAL NOT NULL,
  monthly_cashflow REAL NOT NULL,
  has_collateral BOOLEAN,
  legal_person_credit TEXT NOT NULL,
  company_credit TEXT NOT NULL,
  current_debt REAL,
  data_source TEXT DEFAULT 'manual',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 历史记录表
CREATE TABLE customer_history (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  customer_id INTEGER NOT NULL,
  event_type TEXT NOT NULL,  -- 'application', 'rejection', 'success'
  bank_name TEXT,
  product_name TEXT,
  rejection_reasons TEXT,    -- JSON array of tags
  details TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers(id)
);

-- 材料版本表
CREATE TABLE material_versions (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  customer_id INTEGER NOT NULL,
  material_type TEXT NOT NULL,  -- '营业执照', '财务报表', '纳税证明'等
  version INTEGER NOT NULL,
  file_path TEXT,
  uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers(id)
);
```

#### 3.1.3 为什么这样设计?

**结构化 vs 非结构化**
- ❌ 不是微信聊天记录(非结构化)
- ✅ 而是标准化字段(可计算、可比较、可统计)

**最小集原则**
- 13个字段是最小必需集
- 太少: 匹配不准确
- 太多: 输入成本高,中介不愿意填

**历史记录完整保留**
- 不只是"当前状态",还要知道"历史轨迹"
- 失败过几次?在哪个银行?什么原因?
- 这些数据对复盘和优化至关重要

**可扩展设计**
- 新增字段不影响已有数据
- 通过ALTER TABLE ADD COLUMN扩展
- 或者通过JSON字段存储额外信息

---

### 3.2 第2层: 规则引擎层

#### 3.2.1 模块设计

**模块1: 产品库**

产品基本信息:
- 产品名称: "XX银行-税贷"
- 产品类型: 税贷/发票贷/抵押贷/信用贷/高新贷等
- 额度区间: 10万-500万
- 利率区间: 4%-8%
- 期限: 12个月/24个月/36个月

准入条件(规则化):
- 成立时间 ≥ 2年
- 年纳税额 ≥ 5万
- 法人征信: 好
- 行业限制: 不含限制行业清单

额度算法:
- 税贷: 年纳税额 × 10-20倍
- 发票贷: 年开票额 × 30%-50%
- 抵押贷: 抵押物评估价 × 70%

材料要求:
- 必需材料: 营业执照、纳税证明、征信报告
- 可选材料: 流水明细、发票明细
- 加分材料: 高新认定、专精特新认定

**模块2: 匹配引擎**
- 输入: 客户13个字段
- 规则: 产品准入条件逐一对比
- 输出: 符合哪些产品(按匹配度/额度/利率排序)

**模块3: 缺口识别引擎**
- 输入: 客户数据 + 产品要求
- 对比: 找出差距
- 输出: 
  - 缺什么(成立时间、开票额、纳税额等)
  - 差多少(具体数值)
  - 影响哪些产品(失去的机会)

#### 3.2.2 数据结构

```sql
-- 产品库表
CREATE TABLE products (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  bank_name TEXT NOT NULL,
  product_name TEXT NOT NULL,
  product_type TEXT NOT NULL,
  min_amount REAL NOT NULL,
  max_amount REAL NOT NULL,
  interest_rate_min REAL NOT NULL,
  interest_rate_max REAL NOT NULL,
  term_months INTEGER NOT NULL,
  is_active BOOLEAN DEFAULT 1,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 准入条件表
CREATE TABLE product_rules (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  product_id INTEGER NOT NULL,
  rule_type TEXT NOT NULL,      -- 'established_years', 'annual_tax', 'credit', 'industry'
  operator TEXT NOT NULL,        -- '>=', '<=', '=', 'in', 'not_in'
  value TEXT NOT NULL,           -- 具体值或JSON数组
  is_required BOOLEAN NOT NULL,  -- 硬性条件 or 加分项
  weight REAL DEFAULT 1.0,       -- 权重(用于打分)
  FOREIGN KEY (product_id) REFERENCES products(id)
);

-- 额度算法表
CREATE TABLE amount_formulas (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  product_id INTEGER NOT NULL,
  formula_type TEXT NOT NULL,    -- 'multiplier', 'percentage', 'fixed'
  base_field TEXT NOT NULL,      -- 'annual_tax', 'annual_invoice', 'collateral_value'
  multiplier_min REAL,
  multiplier_max REAL,
  percentage REAL,
  fixed_amount REAL,
  FOREIGN KEY (product_id) REFERENCES products(id)
);
```

#### 3.2.3 匹配算法逻辑

```python
def match_products(customer):
    """
    产品匹配算法
    返回: 符合的产品列表,按匹配度排序
    """
    matched_products = []
    
    for product in product_library:
        score = 0
        missing = []
        hard_failures = []
        
        for rule in product.rules:
            if evaluate_rule(customer, rule):
                # 满足条件,加分
                score += rule.weight
            else:
                # 不满足条件
                if rule.is_required:
                    # 硬性条件不满足,直接排除
                    hard_failures.append(rule)
                    break
                else:
                    # 加分项不满足,记录但不排除
                    missing.append(rule)
        
        # 只有硬性条件全部满足才加入结果
        if len(hard_failures) == 0:
            # 计算额度
            amount = calculate_amount(customer, product)
            
            matched_products.append({
                'product': product,
                'score': score,
                'amount': amount,
                'missing': missing  # 缺少的加分项
            })
    
    # 按匹配度和额度排序
    return sorted(matched_products, 
                 key=lambda x: (x['score'], x['amount']), 
                 reverse=True)

def evaluate_rule(customer, rule):
    """
    评估单条规则
    """
    value = getattr(customer, rule.rule_type)
    
    if rule.operator == '>=':
        return value >= float(rule.value)
    elif rule.operator == '<=':
        return value <= float(rule.value)
    elif rule.operator == '=':
        return value == rule.value
    elif rule.operator == 'in':
        return value in json.loads(rule.value)
    elif rule.operator == 'not_in':
        return value not in json.loads(rule.value)
    
    return False

def calculate_amount(customer, product):
    """
    计算可贷额度
    """
    formula = product.amount_formula
    
    if formula.formula_type == 'multiplier':
        base = getattr(customer, formula.base_field)
        multiplier = random.uniform(formula.multiplier_min, 
                                   formula.multiplier_max)
        return base * multiplier
    
    elif formula.formula_type == 'percentage':
        base = getattr(customer, formula.base_field)
        return base * formula.percentage
    
    elif formula.formula_type == 'fixed':
        return formula.fixed_amount
    
    return 0
```

#### 3.2.4 缺口识别逻辑

```python
def identify_gaps(customer):
    """
    识别客户缺口
    返回: 缺口列表,按影响排序
    """
    gaps = []
    
    # 遍历所有产品,找出不符合的
    for product in product_library:
        for rule in product.rules:
            if not evaluate_rule(customer, rule) and rule.is_required:
                # 不符合硬性条件,记录缺口
                gap = {
                    'gap_type': rule.rule_type,
                    'current_value': getattr(customer, rule.rule_type),
                    'required_value': rule.value,
                    'diff': calculate_diff(customer, rule),
                    'affected_product': product,
                    'impact_level': calculate_impact(product)  # 影响程度
                }
                gaps.append(gap)
    
    # 去重(同一个缺口可能影响多个产品)
    unique_gaps = deduplicate_gaps(gaps)
    
    # 按影响排序
    return sorted(unique_gaps, 
                 key=lambda x: x['impact_level'], 
                 reverse=True)

def calculate_diff(customer, rule):
    """
    计算具体差距
    """
    current = getattr(customer, rule.rule_type)
    required = float(rule.value) if rule.operator in ['>=', '<='] else rule.value
    
    if isinstance(current, (int, float)):
        return required - current
    else:
        return None

def calculate_impact(product):
    """
    计算影响程度(失去的额度)
    """
    return product.max_amount
```

#### 3.2.5 为什么这样设计?

**可配置 vs 硬编码**
- ❌ 不把规则写死在代码里
- ✅ 而是存在数据库里,可随时调整
- 新增产品只需要添加配置,不需要改代码

**可解释性**
- 每个匹配结果都能说清楚为什么
- "您符合XX产品,因为您的年纳税额10万 ≥ 5万"
- "您不符合YY产品,因为您的成立时间1.8年 < 2年"

**可扩展性**
- V0: 简单规则(数值比较)
- V1: 复杂规则(多条件组合、逻辑表达式)
- V2: 机器学习模型(预测通过率)

---

### 3.3 第3层: 诊断输出层

#### 3.3.1 模块设计

**模块1: 健康分计算**
- 输入: 13个字段
- 算法: 加权求和(V0简单规则)
- 输出: 
  - 总分(0-1000分)
  - 等级(A/B/C/D)
  - 6个维度得分(流水、票税、征信、资产、资质、行业)
  - 维度雷达图

**模块2: 当下可贷评估**
- 符合产品列表(2-5个)
- 每个产品:
  - 可贷额度
  - 利率区间
  - 期限
  - 关键条件(强调前提)
- 总可贷额度(汇总)

**模块3: 缺口清单**
- 结构化展示: 缺什么、差多少
- 优先级排序(按影响程度)
- 可改造性标注:
  - 时间型(等待即可): 成立时间、纳税记录累积
  - 操作型(主动改造): 开票提升、资质认定
  - 困难型(难以改造): 行业限制、征信严重问题

#### 3.3.2 健康分算法

```python
def calculate_health_score(customer):
    """
    健康分计算算法
    总分 = 基础分(200) + 6个维度分数之和(各200分)
    """
    score = 200  # 基础分
    dimensions = {}
    
    # 维度1: 流水体质(200分)
    if customer.monthly_cashflow >= 100:
        dimensions['流水体质'] = 200
    elif customer.monthly_cashflow >= 50:
        dimensions['流水体质'] = 150
    elif customer.monthly_cashflow >= 20:
        dimensions['流水体质'] = 100
    else:
        dimensions['流水体质'] = 50
    
    # 维度2: 票税体质(200分)
    ticket_score = 0
    if customer.annual_invoice >= 500:
        ticket_score += 100
    elif customer.annual_invoice >= 200:
        ticket_score += 70
    elif customer.annual_invoice >= 50:
        ticket_score += 40
    
    if customer.annual_tax >= 10:
        ticket_score += 100
    elif customer.annual_tax >= 5:
        ticket_score += 70
    elif customer.annual_tax >= 2:
        ticket_score += 40
    
    dimensions['票税体质'] = ticket_score
    
    # 维度3: 征信体质(200分)
    credit_score = 0
    if customer.legal_person_credit == '好':
        credit_score += 100
    elif customer.legal_person_credit == '一般':
        credit_score += 60
    else:
        credit_score += 20
    
    if customer.company_credit == '好':
        credit_score += 100
    elif customer.company_credit == '一般':
        credit_score += 60
    else:
        credit_score += 20
    
    dimensions['征信体质'] = credit_score
    
    # 维度4: 资产体质(200分)
    asset_score = 0
    if customer.registered_capital >= 1000:
        asset_score += 100
    elif customer.registered_capital >= 500:
        asset_score += 70
    elif customer.registered_capital >= 100:
        asset_score += 40
    
    if customer.has_collateral:
        asset_score += 100
    
    dimensions['资产体质'] = asset_score
    
    # 维度5: 资质体质(200分)
    # TODO: 需要增加字段(高新认定、专精特新、资质证书等)
    # V0暂时根据行业和成立时间估算
    qual_score = 0
    years = calculate_years_since_establishment(customer.established_date)
    if years >= 5:
        qual_score += 100
    elif years >= 3:
        qual_score += 70
    elif years >= 2:
        qual_score += 40
    
    # 行业加分
    if customer.industry in ['科技', '制造业']:
        qual_score += 100
    elif customer.industry in ['贸易', '服务业']:
        qual_score += 70
    
    dimensions['资质体质'] = min(qual_score, 200)
    
    # 维度6: 行业体质(200分)
    industry_mapping = {
        '科技': 200,
        '制造业': 180,
        '贸易': 150,
        '服务业': 120,
        '其他': 100
    }
    dimensions['行业体质'] = industry_mapping.get(customer.industry, 100)
    
    # 汇总
    total_score = score + sum(dimensions.values())
    
    # 等级划分
    if total_score >= 800:
        grade = 'A'
    elif total_score >= 600:
        grade = 'B'
    elif total_score >= 400:
        grade = 'C'
    else:
        grade = 'D'
    
    return {
        'total_score': total_score,
        'grade': grade,
        'dimensions': dimensions
    }
```

#### 3.3.3 输出报告模板

```markdown
━━━━━━━━━━━━━━━━━━━━━━━━━
📊 企业贷款健康评估报告

企业: XX公司
评估日期: 2025-01-25

━━━━━━━━━━━━━━━━━━━━━━━━━
健康分: 650 / 1000 (C级)

维度得分:
- 流水体质: 150/200 ⭐⭐⭐
- 票税体质: 100/200 ⭐⭐
- 征信体质: 120/200 ⭐⭐⭐
- 资产体质: 80/200 ⭐⭐
- 资质体质: 100/200 ⭐⭐
- 行业体质: 100/200 ⭐⭐

━━━━━━━━━━━━━━━━━━━━━━━━━
✅ 当下可申请产品 (2个)

产品1: XX银行-税贷
├─ 可贷额度: 50万
├─ 利率: 6%-8%
├─ 期限: 12个月
└─ 关键条件: ✅ 全部符合

产品2: XX银行-抵押贷
├─ 可贷额度: 80万
├─ 利率: 5%-7%
├─ 期限: 24个月
└─ 关键条件: ✅ 全部符合

总可贷额度: 130万

━━━━━━━━━━━━━━━━━━━━━━━━━
❌ 当前缺口 (按影响排序)

缺口1: 开票不够 ⭐⭐⭐ 高影响
├─ 当前: 30万/年
├─ 需要: 50万/年
├─ 差距: 20万
├─ 影响产品: XX银行发票贷 (额度100万)
└─ 可改造性: 操作型(3个月可改善)

缺口2: 成立时间不够 ⭐⭐ 中影响
├─ 当前: 1.8年
├─ 需要: 2年
├─ 差距: 2.4个月
├─ 影响产品: XX银行流贷 (额度80万)
└─ 可改造性: 时间型(等待即可)

缺口3: 征信一般 ⭐ 低影响
├─ 当前: 一般
├─ 需要: 好
├─ 影响产品: XX银行优惠利率产品
└─ 可改造性: 困难型(需要6-12个月维护)

━━━━━━━━━━━━━━━━━━━━━━━━━
[查看改造方案] [导出报告PDF]
```

#### 3.3.4 为什么这样设计?

**可量化 vs 模糊评价**
- ❌ 不是"感觉不太行"
- ✅ 而是"差20万开票"、"差2.4个月成立时间"

**可解释性**
- 每个分数都能说清楚怎么来的
- 不是黑盒算法
- 中介可以向客户解释

**可行动性**
- 缺口清单直接对应改造方案
- "开票不够" → "开票提升术"
- "成立时间不够" → "等待X个月"

---

### 3.4 第4层: 改造方案层

#### 3.4.1 模块设计

**模块1: 方案库**
- 12个标准方案(V0先做3个核心方案)
  - 方案01: 开票提升术
  - 方案02: 纳税提升术
  - 方案03: 资质认定术-高新
  - 方案04-12: (V1补充)
  
- 每个方案包含:
  - 适用场景: 缺口类型 → 对应方案
  - 执行周期: 3个月/6个月/12个月
  - 改造成本: 平均成本估算
  - 执行步骤: 动作 + 证据 + 负责人
  - 预期效果: 改善哪个维度、提升多少分

**模块2: 方案匹配引擎**
- 输入: 缺口清单(来自第3层)
- 规则: 缺口类型 → 对应方案
- 输出:
  - 3个月方案(1-2个,快速见效)
  - 6个月方案(1-2个,效果更好)

**模块3: 效果预览引擎**
- 输入: 当下状态 + 改造方案
- 模拟: 改造完成后的新状态
- 输出:
  - 改造后健康分
  - 新增可申请产品
  - 新增可贷额度
  - ROI计算

**模块4: 方案对比**
- 对比维度: 周期、成本、新增额度、ROI、难度
- 推荐逻辑:
  - 如果急需资金 → 推荐3个月方案
  - 如果追求最大额度 → 推荐6个月方案
  - 如果预算有限 → 推荐低成本方案

#### 3.4.2 数据结构

```sql
-- 改造方案表
CREATE TABLE reform_plans (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  plan_name TEXT NOT NULL,
  target_gap_type TEXT NOT NULL,     -- '开票不够', '纳税不够', '无高新认定'
  duration_months INTEGER NOT NULL,   -- 3, 6, 12
  estimated_cost REAL NOT NULL,       -- 单位: 万元
  difficulty_level INTEGER NOT NULL,  -- 1-5星
  description TEXT,
  expected_effect TEXT,               -- 预期效果描述
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 方案步骤表
CREATE TABLE plan_steps (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  plan_id INTEGER NOT NULL,
  step_order INTEGER NOT NULL,
  step_name TEXT NOT NULL,
  action TEXT NOT NULL,               -- 具体动作
  evidence_required TEXT NOT NULL,    -- 需要的证据
  responsible_party TEXT NOT NULL,    -- 'broker', 'customer', 'service_provider'
  expected_duration INTEGER,          -- 预计耗时(天)
  expected_outcome TEXT,
  FOREIGN KEY (plan_id) REFERENCES reform_plans(id)
);

-- 方案效果映射表
CREATE TABLE plan_effects (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  plan_id INTEGER NOT NULL,
  dimension_name TEXT NOT NULL,       -- '票税体质', '资质体质'等
  score_increase REAL NOT NULL,       -- 分数提升
  field_name TEXT,                    -- 影响的字段名
  field_value_increase REAL,          -- 字段值提升
  FOREIGN KEY (plan_id) REFERENCES reform_plans(id)
);
```

#### 3.4.3 效果预览算法

```python
def preview_reform_effect(customer, plan):
    """
    模拟改造后的效果
    """
    # 1. 复制当前状态
    future_customer = copy.deepcopy(customer)
    
    # 2. 根据方案修改状态
    effects = get_plan_effects(plan.id)
    for effect in effects:
        if effect.field_name:
            # 修改具体字段值
            current_value = getattr(future_customer, effect.field_name)
            new_value = current_value + effect.field_value_increase
            setattr(future_customer, effect.field_name, new_value)
    
    # 3. 重新计算健康分
    future_score = calculate_health_score(future_customer)
    current_score = calculate_health_score(customer)
    
    # 4. 重新匹配产品
    current_products = match_products(customer)
    future_products = match_products(future_customer)
    
    # 5. 计算新增产品和额度
    current_product_ids = {p['product'].id for p in current_products}
    new_products = [p for p in future_products 
                   if p['product'].id not in current_product_ids]
    
    current_total = sum(p['amount'] for p in current_products)
    future_total = sum(p['amount'] for p in future_products)
    amount_increase = future_total - current_total
    
    # 6. 计算ROI
    roi = amount_increase / plan.estimated_cost if plan.estimated_cost > 0 else 0
    
    return {
        'current_score': current_score,
        'future_score': future_score,
        'score_increase': future_score['total_score'] - current_score['total_score'],
        'current_products': current_products,
        'future_products': future_products,
        'new_products': new_products,
        'current_total_amount': current_total,
        'future_total_amount': future_total,
        'amount_increase': amount_increase,
        'plan_cost': plan.estimated_cost,
        'roi': roi
    }
```

#### 3.4.4 方案输出模板

```markdown
━━━━━━━━━━━━━━━━━━━━━━━━━
💡 3个月改造方案

方案: 开票提升术 (H业务)

当前缺口:
❌ 开票不够: 当前30万，需要50万

改造计划:
├─ 执行周期: 3个月
├─ 改造成本: 8万
├─ 难度: ⭐⭐ (中等)
└─ 改造内容: 通过H业务提升开票到50万

━━━━━━━━━━━━━━━━━━━━━━━━━
改造后效果预览:

健康分变化:
- 当前: 650分 (C级)
- 改造后: 750分 (B级)
- 提升: +100分 ⬆️

新增产品:
+ XX银行-发票贷 (额度100万) ✨
+ XX银行-流贷 (额度80万) ✨

总可贷额度:
- 当前: 130万
- 改造后: 310万
- 提升: +180万 ⬆️

ROI分析:
- 投入: 8万
- 新增额度: 180万
- ROI: 22.5倍 🎯

━━━━━━━━━━━━━━━━━━━━━━━━━
执行步骤:

Step 1 (第1个月): 准备阶段
├─ 动作: 梳理业务流程,选择合作方
├─ 证据: 合作协议、业务方案
├─ 负责人: 中介+服务商
└─ 预期结果: 方案确定,准备启动

Step 2 (第2个月): 执行阶段
├─ 动作: 开展H业务,产生发票
├─ 证据: 发票复印件、纳税证明
├─ 负责人: 客户+服务商
└─ 预期结果: 累计开票达到30万

Step 3 (第3个月): 收尾阶段
├─ 动作: 继续开票,完成目标
├─ 证据: 发票汇总、税务申报表
├─ 负责人: 客户+服务商
└─ 预期结果: 累计开票达到50万,具备申请条件

━━━━━━━━━━━━━━━━━━━━━━━━━
[选择此方案] [查看详细说明]
```

```markdown
━━━━━━━━━━━━━━━━━━━━━━━━━
📊 方案对比

| 维度 | 3个月方案 | 6个月方案 |
|------|----------|----------|
| 方案名称 | 开票提升 | 高新认定 |
| 周期 | 3个月 | 6个月 |
| 成本 | 8万 | 12万 |
| 新增额度 | 180万 | 300万 |
| ROI | 22.5倍 | 25倍 |
| 难度 | ⭐⭐ | ⭐⭐⭐⭐ |
| 成功率 | 90% | 70% |

推荐建议:
- 如果急需资金 → 选3个月方案 ✅
- 如果追求最大额度 → 选6个月方案 ✅
- 如果预算有限 → 选3个月方案 ✅

━━━━━━━━━━━━━━━━━━━━━━━━━
[选择3个月方案] [选择6个月方案] [同时执行两个方案]
```

#### 3.4.5 为什么这样设计?

**可预测性**
- 改造前就知道改造后的效果
- 不是"试试看",而是"有把握"
- 给客户clear的ROI预期

**可执行性**
- 每一步都有具体动作和证据要求
- 不是"建议开票提升",而是"通过H业务,3个月开票50万"
- 中介/客户知道怎么做

**可对比性**
- 3个月 vs 6个月,清晰对比
- 成本、收益、难度、风险一目了然
- 帮助中介和客户决策

---

### 3.5 第5层: 执行追踪层

#### 3.5.1 模块设计

**模块1: 任务系统**
- 任务生成: 从改造方案自动拆解成任务
- 任务分配:
  - 中介侧任务: 联系客户、收集材料、对接服务商
  - 客户侧任务: 提供材料、配合执行
  - 服务商侧任务: 提供改造服务
- 待办提醒:
  - 到期前3天提醒
  - 逾期自动标红
  - 每日任务清单推送

**模块2: 证据管理**
- 证据类型:
  - 财务材料: 流水、纳税、发票
  - 资质材料: 高新认定、专精特新、资质证书
  - 征信材料: 征信报告
  - 其他补充材料
- 上传/下载/预览
- 版本管理: 每次更新记录版本号
- 完整度检查:
  - 必需材料是否齐全
  - 材料是否过期(有效期检查)

**模块3: 时间线 (核心)**
- 记录所有操作:
  - 谁(操作人)
  - 什么时候(时间戳)
  - 做了什么(动作类型)
  - 结果(上传了什么、改了什么)
- 可视化展示(时间轴)
- 可导出(PDF/Excel)

**模块4: 自动提醒**
- 提醒类型:
  - A类客户(现在能贷) → 立即提醒
  - B类客户(改造到期) → 到期提醒
  - 定期回访(30/60/90天)
- 提醒方式:
  - 系统内通知(优先级最高)
  - 邮件通知(可选)
  - 微信通知(V1)

#### 3.5.2 数据结构

```sql
-- 任务表
CREATE TABLE tasks (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  customer_id INTEGER NOT NULL,
  plan_id INTEGER,
  task_name TEXT NOT NULL,
  action TEXT NOT NULL,
  evidence_required TEXT,
  responsible_party TEXT NOT NULL,  -- 'broker', 'customer', 'service_provider'
  priority TEXT NOT NULL,            -- 'P0', 'P1', 'P2'
  due_date DATE NOT NULL,
  status TEXT NOT NULL,              -- 'pending', 'in_progress', 'completed', 'overdue'
  notes TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  completed_at TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers(id),
  FOREIGN KEY (plan_id) REFERENCES reform_plans(id)
);

-- 时间线表
CREATE TABLE timeline (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  customer_id INTEGER NOT NULL,
  operator TEXT NOT NULL,            -- 操作人
  action_type TEXT NOT NULL,         -- 'create', 'upload', 'update', 'comment', 'complete'
  action_detail TEXT NOT NULL,
  metadata TEXT,                     -- JSON: 额外信息
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers(id)
);

-- 证据材料表
CREATE TABLE evidence (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  customer_id INTEGER NOT NULL,
  task_id INTEGER,
  evidence_type TEXT NOT NULL,       -- '财务材料', '资质材料', '征信材料', '其他'
  file_name TEXT NOT NULL,
  file_path TEXT NOT NULL,
  file_size INTEGER,
  version INTEGER DEFAULT 1,
  expiry_date DATE,                  -- 材料有效期
  uploaded_by TEXT NOT NULL,
  uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  is_valid BOOLEAN DEFAULT 1,
  FOREIGN KEY (customer_id) REFERENCES customers(id),
  FOREIGN KEY (task_id) REFERENCES tasks(id)
);

-- 提醒表
CREATE TABLE reminders (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  customer_id INTEGER NOT NULL,
  reminder_type TEXT NOT NULL,       -- 'immediate', 'deadline', 'periodic'
  reminder_date DATE NOT NULL,
  message TEXT NOT NULL,
  status TEXT NOT NULL,              -- 'pending', 'sent', 'read'
  sent_at TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers(id)
);
```

#### 3.5.3 时间线可视化示例

```markdown
━━━━━━━━━━━━━━━━━━━━━━━━━
📅 客户时间线: YY公司

━━━━━━━━━━━━━━━━━━━━━━━━━
2025-01-25 14:30
👤 中介-小王
📝 创建客户档案
└─ 录入基础信息13个字段

2025-01-25 15:00
🤖 系统
📊 完成健康评分
├─ 健康分: 650 (C级)
├─ 可贷额度: 130万
└─ 识别3个缺口

2025-01-25 15:10
👤 中介-小王
💡 选择改造方案
└─ 3个月方案: 开票提升术

2025-01-25 15:15
🤖 系统
📋 生成任务清单
└─ 创建5个任务,分配给中介和客户

2025-01-28 10:00
👤 客户-李总
📤 上传材料
├─ 营业执照 (v1)
├─ 财务报表 (v1)
└─ 纳税证明 (v1)

2025-02-05 16:00
👤 中介-小王
✅ 完成任务
└─ 任务1: 收集基础材料

2025-02-10 11:30
👤 中介-小王
💬 添加备注
└─ "已联系服务商,方案确定,准备启动"

2025-03-15 09:00
🤖 系统
⏰ 自动提醒
└─ "开票提升方案还有10天到期,请跟进进度"

2025-04-25 14:00
👤 中介-小王
🔄 触发复评
└─ 改造期到期,重新评估

2025-04-25 14:05
🤖 系统
📈 复评完成
├─ 健康分: 650 → 750 (+100)
├─ 可贷额度: 130万 → 310万 (+180万)
└─ 新增2个可申请产品

2025-04-25 14:30
👤 中介-小王
📞 联系客户
└─ "李总,您现在符合XX银行发票贷了,要不要试试?"

2025-04-28 10:00
👤 中介-小王
🎉 客户成交
├─ 产品: XX银行-发票贷
├─ 金额: 100万
└─ 佣金: 3万

━━━━━━━━━━━━━━━━━━━━━━━━━
[导出时间线PDF] [添加备注]
```

#### 3.5.4 为什么这样设计?

**可追溯性**
- 所有操作都有记录
- 谁做了什么一清二楚
- 失败了能回溯整个过程找原因

**可协作性**
- 中介和客户都知道谁负责什么
- 任务清晰分配,不会遗漏
- 进度透明,随时查看

**可复盘性**
- 时间线是完整的故事
- 成功案例可以复制流程
- 失败案例可以分析原因

---

### 3.6 第6层: 复盘闭环层

#### 3.6.1 模块设计

**模块1: 定期复评**
- 复评触发:
  - 手动触发: 中介点击"复评"按钮
  - 定期触发: 每月1号自动复评
  - 改造完成触发: 改造方案到期自动复评
- 复评内容:
  - 重新计算健康分
  - 重新匹配产品
  - 对比变化(分数/额度/产品)
  - 更新改造进度
- 输出: 变化报告

**模块2: 失败原因库**
- 结构化标签体系:
  - 征信类: 多头授信、逾期记录、查询过多、小贷占比高
  - 财务类: 流水不够、开票不够、纳税不够、流水不稳定
  - 资质类: 成立时间不够、无高新认定、行业不符合
  - 资产类: 无抵押物、抵押物价值不足
  - 其他: 资料不全、客户配合度低、银行政策变化
- 每次失败必须记录:
  - 失败产品
  - 失败原因(多选标签)
  - 失败时间
  - 银行反馈
  - 备注
- 统计分析:
  - 最常见失败原因Top 10
  - 不同产品的失败率
  - 不同客户类型的失败率

**模块3: 成功案例库**
- 记录内容:
  - 客户画像
  - 使用的改造方案
  - 执行周期
  - 最终结果(成交金额/利率/期限)
  - 关键成功因素
- 作用:
  - 话术参考: 给中介提供成功案例作为销售素材
  - 方案优化: 分析哪些方案成功率高
  - 预测模型: 训练成功率预测模型

**模块4: 数据导出**
- 导出内容:
  - 客户档案(完整信息)
  - 时间线记录(所有操作)
  - 任务清单(进度跟踪)
  - 材料清单(证据文件)
- 导出格式:
  - Excel: 用于数据分析
  - PDF: 用于打印归档
  - JSON: 用于系统迁移(V1)
- 作用:
  - 数据安全: 中介可以带走自己的数据
  - 合规要求: 满足数据导出权要求

#### 3.6.2 失败原因标签体系

```
失败原因分类:

1. 征信类
├─ 多头授信 (同时申请多家)
├─ 逾期记录 (M1/M3/M6)
├─ 查询次数过多
├─ 小贷占比过高
└─ 征信空白

2. 财务类
├─ 流水不够
├─ 开票不够
├─ 纳税不够
├─ 流水不稳定
├─ 收入成本不匹配
└─ 负债率过高

3. 资质类
├─ 成立时间不够
├─ 无高新认定
├─ 无专精特新认定
├─ 行业不符合
└─ 经营范围不符

4. 资产类
├─ 无抵押物
├─ 抵押物价值不足
├─ 抵押物无法评估
└─ 无担保人

5. 其他
├─ 资料不全
├─ 客户配合度低
├─ 银行政策变化
├─ 额度用尽
└─ 其他原因
```

#### 3.6.3 数据结构

```sql
-- 复评记录表
CREATE TABLE reassessments (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  customer_id INTEGER NOT NULL,
  trigger_type TEXT NOT NULL,        -- 'manual', 'periodic', 'plan_completed'
  previous_score INTEGER,
  current_score INTEGER,
  score_change INTEGER,
  previous_amount REAL,
  current_amount REAL,
  amount_change REAL,
  new_products_count INTEGER,
  notes TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers(id)
);

-- 失败原因表
CREATE TABLE rejection_reasons (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  customer_id INTEGER NOT NULL,
  product_id INTEGER,
  bank_name TEXT,
  rejection_date DATE NOT NULL,
  reason_category TEXT NOT NULL,     -- '征信类', '财务类', '资质类', '资产类', '其他'
  reason_tags TEXT NOT NULL,          -- JSON array: ['多头授信', '流水不够']
  bank_feedback TEXT,
  notes TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers(id),
  FOREIGN KEY (product_id) REFERENCES products(id)
);

-- 成功案例表
CREATE TABLE success_cases (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  customer_id INTEGER NOT NULL,
  product_id INTEGER NOT NULL,
  loan_amount REAL NOT NULL,
  interest_rate REAL NOT NULL,
  term_months INTEGER NOT NULL,
  reform_plan_id INTEGER,
  duration_days INTEGER,              -- 从客户导入到成交的天数
  key_success_factors TEXT,           -- JSON array: 关键成功因素
  notes TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers(id),
  FOREIGN KEY (product_id) REFERENCES products(id),
  FOREIGN KEY (reform_plan_id) REFERENCES reform_plans(id)
);
```

#### 3.6.4 复评变化报告模板

```markdown
━━━━━━━━━━━━━━━━━━━━━━━━━
📈 复评变化报告

客户: YY公司
复评日期: 2025-04-25
距上次评估: 90天

━━━━━━━━━━━━━━━━━━━━━━━━━
健康分变化:

上次评估: 650分 (C级)
本次评估: 750分 (B级)
变化: +100分 ⬆️

维度变化:
- 流水体质: 150 → 150 (无变化)
- 票税体质: 100 → 200 (+100 ⬆️)
- 征信体质: 120 → 120 (无变化)
- 资产体质: 80 → 80 (无变化)
- 资质体质: 100 → 100 (无变化)
- 行业体质: 100 → 100 (无变化)

━━━━━━━━━━━━━━━━━━━━━━━━━
可申请产品变化:

原有产品:
- XX银行-税贷 (50万)
- XX银行-抵押贷 (80万)

新增产品:
+ XX银行-发票贷 (100万) ✨
+ XX银行-流贷 (80万) ✨

总可贷额度:
- 上次: 130万
- 本次: 310万
- 提升: +180万 ⬆️ (138%)

━━━━━━━━━━━━━━━━━━━━━━━━━
改造进度:

已完成:
✅ 开票提升到50万 (目标50万, 完成100%)
✅ 补充财务材料

进行中:
🔄 高新企业认定 (进度60%, 预计2个月完成)

━━━━━━━━━━━━━━━━━━━━━━━━━
下一步建议:

建议1: 立即联系客户 🔥
├─ 理由: 现在符合2个新产品,建议立即申请
├─ 可贷额度: 180万
└─ 预计佣金: 5-6万

建议2: 继续高新认定 🎯
├─ 理由: 完成后可再增加300万额度
├─ 剩余时间: 2个月
└─ 投入产出比: 12万投入 → 300万额度 (25倍ROI)

建议3: 定期回访 📅
└─ 下次复评时间: 2025-05-25 (30天后)

━━━━━━━━━━━━━━━━━━━━━━━━━
[联系客户] [继续改造] [导出报告]
```

#### 3.6.5 为什么这样设计?

**可学习性**
- 每次失败都是数据,沉淀到知识库
- 系统越用越聪明
- 新中介可以学习老中介的经验

**可复制性**
- 成功案例可以复制到新客户
- "XX行业+YY方案 = 80%成功率"
- 标准化流程,降低对个人经验的依赖

**可优化性**
- 数据积累越多,系统越准
- 产品库、方案库持续优化
- 算法持续改进

---

## 第四部分: 三大闭环 (系统如何运转)

### 4.1 闭环1: 诊断-改造-复评

这是系统的**核心业务闭环**,确保客户从"不能贷"变成"能贷"。

#### 闭环流程

```
Step 1: 输入客户资料
├─ 中介录入13个字段
└─ 系统保存到客户表

        ↓

Step 2: 系统诊断
├─ 计算健康分 (第3层)
├─ 匹配当下产品 (第2层)
├─ 识别缺口 (第2层)
└─ 生成诊断报告

        ↓

Step 3: 生成改造方案
├─ 根据缺口匹配方案 (第4层)
├─ 3个月方案 + 6个月方案
├─ 效果预览 + ROI计算
└─ 中介选择方案

        ↓

Step 4: 执行追踪
├─ 拆解任务 (第5层)
├─ 分配责任人
├─ 上传证据
├─ 记录时间线
└─ 到期提醒

        ↓

Step 5: 定期复评 (第6层)
├─ 重新计算健康分
├─ 查看变化 (分数/额度/产品)
├─ 更新改造进度
└─ 生成变化报告

        ↓

Step 6: 回到Step 2 (循环)
├─ 如果还有缺口 → 继续改造
├─ 如果条件满足 → 联系客户申请
└─ 如果申请失败 → 记录原因,进入闭环2
```

#### 关键设计点

**1. 不是一次性,而是持续陪跑**
- ❌ 传统模式: 诊断一次,给建议,结束
- ✅ 我们的模式: 诊断 → 改造 → 复评 → 再诊断(循环)

**2. 系统自动提醒"该复评了"**
- 改造方案到期 → 自动触发复评
- 每月1号 → 定期复评所有客户
- 中介不需要记住,系统会推送

**3. 每次复评都是新一轮诊断的开始**
- 不是"看看有没有变化"
- 而是"重新诊断,重新匹配,重新规划"
- 客户体质改善 → 新产品机会 → 新的改造方案

#### 数据流图

```
[客户数据] 
    ↓ 
[第1层: 数据输入] 
    ↓ 
[第2层: 规则引擎] → [产品库] + [缺口识别]
    ↓ 
[第3层: 诊断输出] → [健康分] + [可贷额度] + [缺口清单]
    ↓ 
[第4层: 改造方案] → [方案库] + [效果预览]
    ↓ 
[第5层: 执行追踪] → [任务] + [证据] + [时间线]
    ↓ 
[第6层: 复盘闭环] → [复评] → 回到第2层
```

---

### 4.2 闭环2: 失败-沉淀-优化

这是系统的**学习闭环**,确保系统越用越聪明。

#### 闭环流程

```
Step 1: 客户申请失败
├─ 中介记录失败事件
└─ 触发失败原因记录流程

        ↓

Step 2: 记录失败原因 (第6层)
├─ 选择失败原因标签 (多选)
├─ 记录银行反馈
├─ 补充备注
└─ 保存到失败原因表

        ↓

Step 3: 沉淀到失败原因库
├─ 按原因类型分类 (征信/财务/资质/资产/其他)
├─ 按产品分类 (哪个产品容易失败)
├─ 按客户画像分类 (哪类客户容易失败)
└─ 生成统计报表

        ↓

Step 4: 分析共性
├─ 哪些原因最常见? → 优化准入条件
├─ 哪些产品拒绝率最高? → 调整产品库
├─ 哪些客户类型容易失败? → 优化匹配算法
└─ 生成优化建议

        ↓

Step 5: 优化系统
├─ 优化产品库 (更新准入条件)
├─ 优化方案库 (增加新方案,淘汰低效方案)
├─ 优化匹配算法 (提高准确率)
└─ 更新规则配置

        ↓

Step 6: 回到Step 1 (下次失败时继续沉淀)
```

#### 关键设计点

**1. 每次失败都是数据**
- ❌ 传统模式: 失败了就失败了,没有记录
- ✅ 我们的模式: 结构化记录,多维度分析

**2. 数据积累越多,系统越准**
- 第1个月: 10个失败案例 → 发现3个常见原因
- 第3个月: 50个失败案例 → 优化5个产品的准入条件
- 第6个月: 200个失败案例 → 新增2个改造方案
- 第12个月: 1000个失败案例 → 训练预测模型

**3. 这是我们的护城河**
- 竞品没有失败数据(他们只做撮合,不跟踪结果)
- 我们有完整的失败原因库
- 可以训练"成功率预测模型"

#### 优化示例

**示例1: 发现产品库问题**
```
失败数据分析:
- XX银行-税贷,拒绝率50%
- 主要原因: "年纳税额不够"占80%
- 产品库准入条件: 年纳税额 ≥ 5万
- 实际银行要求: 年纳税额 ≥ 8万

优化动作:
→ 更新产品库准入条件: 5万 → 8万
→ 匹配准确率提升: 50% → 90%
```

**示例2: 发现新的改造方案**
```
失败数据分析:
- "流水不稳定"原因占15%
- 但没有对应的改造方案

优化动作:
→ 新增方案: "流水优化术"
→ 内容: 通过合理安排资金流动,使流水更稳定
→ 周期: 3个月
```

---

### 4.3 闭环3: 成功-复制-扩展

这是系统的**增长闭环**,确保成功案例可以复制。

#### 闭环流程

```
Step 1: 客户成功成交
├─ 中介记录成交事件
└─ 触发成功案例记录流程

        ↓

Step 2: 记录成功案例 (第6层)
├─ 客户画像 (行业/规模/体质)
├─ 使用的改造方案
├─ 执行周期 (从导入到成交的天数)
├─ 最终结果 (成交金额/利率/期限)
├─ 关键成功因素 (为什么成功?)
└─ 保存到成功案例表

        ↓

Step 3: 沉淀到成功案例库
├─ 按行业分类 (制造业/贸易/科技)
├─ 按产品分类 (税贷/发票贷/抵押贷)
├─ 按改造方案分类 (开票提升/资质认定)
└─ 生成成功率统计

        ↓

Step 4: 提取关键因素
├─ 哪些因素最关键? (必须做什么)
├─ 哪些步骤不能省? (流程优化)
├─ 哪些话术最有效? (销售话术库)
└─ 生成成功模式

        ↓

Step 5: 复制到新客户
├─ 遇到类似客户 → 推荐类似方案
├─ 自动生成类似话术 (基于成功案例)
├─ 预测成功概率 (基于历史数据)
└─ 优先级排序 (优先跟进高成功率客户)

        ↓

Step 6: 回到Step 1 (持续积累)
```

#### 关键设计点

**1. 成功案例是最好的销售工具**
- 给中介: "XX公司和您这个客户很像,他们用了YY方案,3个月成交了100万"
- 给客户: "我们服务过XX公司,和您情况类似,最终成功贷到100万"
- 可信度 >> 空口承诺

**2. 可以用于话术参考**
```
成功案例:
- 客户: ZZ制造企业, 成立2.5年, 年开票300万
- 方案: 开票提升术 (3个月)
- 结果: 开票300万 → 500万, 成功贷到150万

话术生成:
"李总,您的企业和我们之前服务的ZZ公司很像,
他们也是制造业,成立2年多,开票300万左右。
我们帮他们用了3个月做了开票提升,
从300万提到500万,最后成功贷到150万。
您要不要试试?"
```

**3. 可以用于预测新客户的成功率**
```
新客户: AA公司
├─ 行业: 制造业
├─ 成立时间: 2.3年
├─ 年开票: 280万
└─ 健康分: 680

系统匹配类似成功案例:
├─ 找到5个类似案例
├─ 平均成功率: 85%
├─ 平均周期: 4个月
└─ 推荐方案: 开票提升术

预测结果:
→ 成功概率: 85%
→ 预计周期: 4个月
→ 预计额度: 120万
→ 优先级: 高 (建议优先跟进)
```

---

## 第五部分: 可扩展性设计

### 5.1 分层架构的可扩展性

**设计哲学**: 从简单到复杂,渐进演进

#### 第1层 (数据输入层) 扩展路径

| 版本 | 功能 | 技术实现 |
|------|------|---------|
| V0 | 手工录入13个字段 | Web表单 |
| V1 | Excel批量导入 + OCR识别 | pandas读取Excel + OCR SDK |
| V2 | API对接 (银行/税务/征信) | RESTful API + 数据映射 |

#### 第2层 (规则引擎层) 扩展路径

| 版本 | 功能 | 技术实现 |
|------|------|---------|
| V0 | 5-10个核心产品 | 简单规则(数值比较) |
| V1 | 20+个产品 + 动态规则配置 | 规则引擎(JSON配置) |
| V2 | 支持中介自定义产品 | 可视化规则编辑器 |

#### 第3层 (诊断输出层) 扩展路径

| 版本 | 功能 | 技术实现 |
|------|------|---------|
| V0 | 简单规则算法(加权求和) | Python函数 |
| V1 | 复杂规则引擎 | 规则树 + 权重配置 |
| V2 | 机器学习模型 | XGBoost/LightGBM |

#### 第4层 (改造方案层) 扩展路径

| 版本 | 功能 | 技术实现 |
|------|------|---------|
| V0 | 3个核心方案 | 硬编码方案库 |
| V1 | 12个完整方案 | 数据库驱动 |
| V2 | 支持中介自定义方案 + AI生成方案 | LLM生成 + 人工审核 |

#### 第5层 (执行追踪层) 扩展路径

| 版本 | 功能 | 技术实现 |
|------|------|---------|
| V0 | 基础任务管理 + 时间线 | SQLite + Web界面 |
| V1 | 智能提醒 + 协作工具 | 消息队列 + 实时通知 |
| V2 | 移动端App + 微信小程序 | React Native + 小程序 |

#### 第6层 (复盘闭环层) 扩展路径

| 版本 | 功能 | 技术实现 |
|------|------|---------|
| V0 | 基础复评 + 失败原因记录 | SQL查询 + 简单统计 |
| V1 | 智能分析 + 成功率预测 | 数据分析 + 机器学习 |
| V2 | AI建议 + 自动优化 | LLM + 强化学习 |

---

### 5.2 模块化设计的可扩展性

**设计哲学**: 高内聚,低耦合

#### 模块独立性

每个模块都是独立的,可以单独优化:

```
产品库模块
├─ 数据: products表 + product_rules表
├─ 接口: get_products(), add_product(), update_product()
└─ 可扩展: 新增产品只需调用add_product(),不影响其他模块

方案库模块
├─ 数据: reform_plans表 + plan_steps表
├─ 接口: get_plans(), add_plan(), update_plan()
└─ 可扩展: 新增方案只需调用add_plan(),不影响其他模块

匹配算法模块
├─ 输入: 客户数据 + 产品库
├─ 输出: 匹配结果
└─ 可扩展: 算法优化不影响数据结构
```

#### 关键设计原则

**1. 数据层 vs 逻辑层分离**
- 数据层: SQLite数据库
- 逻辑层: Python业务逻辑
- 好处: 数据库结构稳定,逻辑可以随时优化

**2. 配置 vs 代码分离**
- 配置: 产品库、方案库、规则库(存在数据库)
- 代码: 算法逻辑(Python)
- 好处: 不需要改代码,改配置即可

**3. 前端 vs 后端分离**
- 前端: Streamlit页面
- 后端: Python函数 + SQLite
- 好处: 界面改版不影响业务逻辑

---

### 5.3 数据驱动的可扩展性

**设计哲学**: 数据飞轮效应

#### 数据积累路径

```
月1:  100个客户 
├─ 数据量: 100条客户记录
├─ 发现: 10个常见失败原因
└─ 优化: 优化3个产品的准入条件

月3:  500个客户
├─ 数据量: 500条客户记录 + 50条失败记录
├─ 发现: 某些行业拒绝率特别高
└─ 优化: 调整5个产品的准入条件

月6:  2000个客户
├─ 数据量: 2000条客户记录 + 300条失败记录 + 50条成功案例
├─ 发现: 某些改造方案成功率特别高
└─ 优化: 新增3个改造方案,淘汰2个低效方案

月12: 10000个客户
├─ 数据量: 10000条客户记录 + 2000条失败记录 + 500条成功案例
├─ 发现: 可以训练预测模型了
└─ 优化: 上线机器学习模型,预测成功率
```

#### 数据价值递增

```
数据量  →  系统能力

100条   →  基础匹配
500条   →  优化准入条件
2000条  →  优化方案库
10000条 →  预测成功率
50000条 →  个性化推荐
```

#### 网络效应

```
中介用得多 
  → 数据多 
    → 系统准 
      → 更多中介用 
        → 更多数据
          → 系统更准
            → 护城河
```

---

## 第六部分: V0最小功能集 (2周可做)

### 6.1 V0核心目标

**目标**:
- ✅ 证明基座可用 (不是Demo)
- ✅ 证明闭环完整 (诊断→改造→追踪)
- ✅ 证明中介愿意试用

**非目标**:
- ❌ 功能大而全
- ❌ 界面炫酷
- ❌ 算法复杂
- ❌ 完美无缺

**判断标准**:
- 能不能让3个中介真实使用?
- 能不能跑通一个完整案例?
- 能不能收集到真实反馈?

---

### 6.2 V0必须有的功能

#### 第1层: 数据输入
✅ 手工录入13个字段  
✅ 历史记录(失败原因)  
❌ Excel批量导入 (V1)  
❌ OCR识别 (V2)  

#### 第2层: 规则引擎
✅ 5-10个核心产品  
✅ 简单匹配算法  
✅ 缺口识别  
❌ 复杂规则配置 (V1)  

#### 第3层: 诊断输出
✅ 健康分计算(简单规则)  
✅ 当下可贷评估  
✅ 缺口清单  
❌ 复杂雷达图 (V1)  

#### 第4层: 改造方案
✅ 3个核心方案(开票提升、纳税提升、资质认定)  
✅ 3个月 + 6个月方案  
✅ 效果预览  
✅ 方案对比  
❌ 12个完整方案 (V1)  

#### 第5层: 执行追踪
✅ 任务系统(基础版)  
✅ 时间线(所有操作留痕)  
✅ 证据上传(基础版)  
✅ 自动提醒(基础版)  
❌ 复杂协作工具 (V1)  

#### 第6层: 复盘闭环
✅ 定期复评(手动触发)  
✅ 失败原因记录(结构化标签)  
✅ 数据导出(Excel)  
❌ 智能分析 (V1)  
❌ AI建议 (V2)  

---

### 6.3 V0技术实现建议

#### 推荐技术栈

| 层级 | 技术选择 | 理由 |
|------|---------|------|
| 前端 | **Streamlit** | • Python生态,易上手<br>• 快速原型<br>• 2周能做出来 |
| 后端 | **Python** | • 规则引擎易实现<br>• 数据处理方便<br>• 丰富的库支持 |
| 数据库 | **SQLite** | • V0够用<br>• 零配置<br>• 后续可迁移PostgreSQL |
| 部署 | **Streamlit Cloud** | • 免费<br>• 一键部署<br>• 适合早期测试 |

#### 为什么选择Streamlit?

**优点**:
- ✅ 速度快: 2周能做出来
- ✅ 够用: V0阶段功能不复杂
- ✅ 可迭代: 后续可以迁移到Vue.js等
- ✅ Python生态: 规则引擎、数据处理都方便

**缺点**(可接受):
- ❌ 界面不够炫酷(但够用)
- ❌ 扩展性有限(V1再优化)
- ❌ 并发能力一般(V0阶段够用)

#### 替代方案

| 方案 | 优点 | 缺点 | 适用场景 |
|------|------|------|---------|
| 低代码平台<br>(飞书多维表格/简道云) | 极快(几天) | 功能受限,不灵活 | 仅验证概念 |
| 传统Web<br>(Vue.js + Node.js) | 专业,可扩展性强 | 慢(4-6周) | V1阶段 |
| 桌面应用<br>(Electron) | 不需要服务器 | 分发困难 | 单机版 |

---

### 6.4 V0核心产品库 (最小集)

V0阶段选择5个最常见的产品:

#### 产品1: XX银行-税贷
- 类型: 税贷
- 准入条件: 成立≥2年, 年纳税≥5万, 征信良好
- 额度算法: 年纳税额 × 10-15倍
- 利率: 6%-8%
- 期限: 12个月

#### 产品2: XX银行-发票贷
- 类型: 发票贷
- 准入条件: 成立≥2年, 年开票≥200万, 征信良好
- 额度算法: 年开票额 × 30%-40%
- 利率: 5%-7%
- 期限: 12个月

#### 产品3: XX银行-抵押贷
- 类型: 抵押贷
- 准入条件: 有抵押物, 征信良好
- 额度算法: 抵押物评估价 × 70%
- 利率: 5%-7%
- 期限: 24个月

#### 产品4: XX银行-信用贷
- 类型: 信用贷
- 准入条件: 成立≥3年, 月流水≥50万, 征信优秀
- 额度算法: 月流水 × 3-5倍
- 利率: 7%-9%
- 期限: 12个月

#### 产品5: XX银行-高新贷
- 类型: 高新贷
- 准入条件: 高新企业认定, 成立≥2年
- 额度算法: 固定额度100-300万
- 利率: 4%-6%
- 期限: 36个月

---

### 6.5 V0核心方案库 (最小集)

V0阶段只做3个最常用的方案:

#### 方案1: 开票提升术
- 适用场景: 开票不够
- 周期: 3个月
- 成本: 8万
- 步骤: 
  1. 月1: 准备阶段(梳理业务,选择合作方)
  2. 月2: 执行阶段(开展H业务,产生发票)
  3. 月3: 收尾阶段(完成目标,具备申请条件)
- 预期效果: 开票提升20-30万, 票税体质+100分

#### 方案2: 纳税提升术
- 适用场景: 纳税不够
- 周期: 6个月
- 成本: 5万
- 步骤:
  1. 月1-2: 税务规划(梳理纳税情况,制定方案)
  2. 月3-5: 持续执行(优化税务结构,增加纳税)
  3. 月6: 验收(达到目标纳税额)
- 预期效果: 纳税提升3-5万, 票税体质+100分

#### 方案3: 资质认定术-高新
- 适用场景: 无高新认定
- 周期: 6个月
- 成本: 12万
- 步骤:
  1. 月1-2: 准备阶段(收集材料,准备申报)
  2. 月3-4: 申报阶段(提交申请,等待评审)
  3. 月5-6: 获证阶段(通过评审,获得认定)
- 预期效果: 获得高新认定, 资质体质+100分, 可申请高新贷

---

### 6.6 V0界面设计

#### 页面1: 客户档案录入

```
━━━━━━━━━━━━━━━━━━━━━━━━━
📝 客户档案录入

基础信息:
- 企业名称: [___________________]
- 行业类型: [下拉选择__________]
- 注册资本: [_________] 万元
- 成立时间: [____年__月]
- 贷款需求金额: [_________] 万元
- 贷款用途: [下拉选择__________]

财务信息:
- 年开票额: [_________] 万元
- 年纳税额: [_________] 万元
- 月流水: [_________] 万元
- 有无抵押物: □ 是 □ 否

征信信息:
- 法人征信: ○ 好 ○ 一般 ○ 差
- 企业征信: ○ 好 ○ 一般 ○ 差
- 当前负债: [_________] 万元

[保存并诊断] [取消]
━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 页面2: 诊断报告

```
━━━━━━━━━━━━━━━━━━━━━━━━━
📊 企业贷款健康评估报告

企业: XX公司
评估日期: 2025-01-25
健康分: 650/1000 (C级)

维度得分:
━━━━━━━━━━━━━━━━━━━━━━━━━
流水体质    ⭐⭐⭐   150/200
票税体质    ⭐⭐     100/200
征信体质    ⭐⭐⭐   120/200
资产体质    ⭐⭐     80/200
资质体质    ⭐⭐     100/200
行业体质    ⭐⭐     100/200
━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 当下可申请产品 (2个)

• XX银行-税贷
  可贷额度: 50万 | 利率: 6%-8%
  
• XX银行-抵押贷
  可贷额度: 80万 | 利率: 5%-7%

总可贷额度: 130万

━━━━━━━━━━━━━━━━━━━━━━━━━

❌ 当前缺口 (3个)

1. 开票不够 ⭐⭐⭐ 高影响
   当前30万 → 需要50万 (差20万)
   影响产品: XX银行发票贷 (100万)
   
2. 成立时间不够 ⭐⭐ 中影响
   当前1.8年 → 需要2年 (差2.4个月)
   影响产品: XX银行流贷 (80万)

3. 征信一般 ⭐ 低影响
   影响优惠利率产品

━━━━━━━━━━━━━━━━━━━━━━━━━
[查看改造方案] [导出报告PDF]
━━━━━━━━━━━━━━━━━━━━━━━━━
```

#### 页面3: 改造方案

```
━━━━━━━━━━━━━━━━━━━━━━━━━
💡 改造方案推荐

━━━━━━━━━━━━━━━━━━━━━━━━━
📊 方案对比

| 维度 | 3个月方案 | 6个月方案 |
|------|----------|----------|
| 方案名称 | 开票提升 | 高新认定 |
| 周期 | 3个月 | 6个月 |
| 成本 | 8万 | 12万 |
| 新增额度 | 180万 | 300万 |
| ROI | 22.5倍 | 25倍 |
| 难度 | ⭐⭐ | ⭐⭐⭐⭐ |

[选择3个月方案] [选择6个月方案]

━━━━━━━━━━━━━━━━━━━━━━━━━
💡 3个月方案详情

方案: 开票提升术
成本: 8万 | 周期: 3个月

改造后效果:
• 健康分: 650 → 750 (+100)
• 可贷额度: 130万 → 310万 (+180万)
• 新增产品: 2个

执行步骤:
1. 第1个月: 准备阶段
2. 第2个月: 执行阶段
3. 第3个月: 收尾阶段

[查看详细步骤] [返回]
━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

### 6.7 V0开发任务拆解

#### Phase 1: 基础架构 (3天)

**Day 1-2: 数据库设计 + 初始化**
- [ ] 设计数据库schema (8张核心表)
- [ ] 创建SQLite数据库
- [ ] 初始化产品库 (5个产品)
- [ ] 初始化方案库 (3个方案)

**Day 3: Streamlit框架搭建**
- [ ] 创建主页面框架
- [ ] 实现页面导航
- [ ] 基础样式设置

#### Phase 2: 核心功能 (7天)

**Day 4-5: 第1层+第2层+第3层 (诊断功能)**
- [ ] 客户录入表单
- [ ] 健康分计算算法
- [ ] 产品匹配算法
- [ ] 缺口识别算法
- [ ] 诊断报告页面

**Day 6-7: 第4层 (改造方案)**
- [ ] 方案匹配算法
- [ ] 效果预览算法
- [ ] 方案对比页面
- [ ] 方案详情页面

**Day 8-9: 第5层 (执行追踪)**
- [ ] 任务系统
- [ ] 时间线记录
- [ ] 证据上传(基础版)
- [ ] 任务列表页面

**Day 10: 第6层 (复盘闭环)**
- [ ] 复评功能
  - [ ] 添加"复评"按钮(客户详情页)
  - [ ] 重新计算健康分
  - [ ] 对比变化(生成变化报告)
  - [ ] 显示健康分/额度/产品变化
- [ ] 失败原因记录
  - [ ] 失败原因标签选择(多选)
  - [ ] 结构化标签体系(5大类)
  - [ ] 保存到rejection_reasons表
- [ ] 数据导出(Excel)
  - [ ] 导出客户档案
  - [ ] 导出时间线记录
  - [ ] 导出任务清单

#### Phase 3: 测试优化 (4天)

**Day 11-12: 功能测试**
- [ ] 完整流程测试
- [ ] Bug修复
- [ ] 界面优化

**Day 13-14: 准备演示**
- [ ] 准备演示数据
- [ ] 准备演示话术
- [ ] 部署到Streamlit Cloud

---

## 第七部分: 验证计划

### 7.1 验证目标

**主要目标**:
- 证明中介真的会用 (不是好看而已)
- 证明闭环真的能跑通 (不是概念)
- 证明中介愿意付费 (不是免费尝鲜)

**次要目标**:
- 收集真实反馈
- 发现关键问题
- 优化产品方向

---

### 7.2 验证方式

#### Step 1: 找3个中介深度测试

**筛选标准**:
- 有存量客户 (至少50个历史客户)
- 愿意试用新工具
- 能给真实反馈

**招募话术**:
"王哥,我们做了个工具,专门帮中介盘活历史客户。
你把以前没成交的客户导进来,系统帮你诊断哪些现在能贷了,
哪些需要改造,还能自动提醒你什么时候该联系客户。
免费试用2周,你帮我们测测,提提意见?"

#### Step 2: 每个中介导入5-10个真实客户

**要求**:
- 必须是真实的历史客户
- 必须是"以前没成交"的客户
- 尽量覆盖不同类型(行业/规模/问题)

#### Step 3: 全流程操作一遍

**测试任务清单**:
- [ ] 任务1: 录入一个新客户
- [ ] 任务2: 查看诊断报告
- [ ] 任务3: 选择改造方案
- [ ] 任务4: 追踪任务进度
- [ ] 任务5: 3个月后复评 (模拟)

#### Step 4: 收集反馈

**访谈问题**:
1. "这个系统对你有用吗?"
2. "哪个功能你觉得最有价值?"
3. "哪个功能你觉得没用?"
4. "有什么功能你觉得缺失的?"
5. "如果收费,你愿意付多少钱?"
6. "你会推荐给同行吗?"

---

### 7.3 成功标准

#### 最低标准 (及格线)

- ✅ 3个中介都说"有用"
- ✅ 至少1个愿意付费试用
- ✅ 至少1个愿意推荐给同行

**如果达不到** → Pivot或Kill

#### 理想标准 (优秀)

- ✅ 3个中介都愿意付费
- ✅ 至少1个愿意签年费合同
- ✅ 至少2个愿意推荐给同行
- ✅ 至少1个真实成交案例

**如果达到** → 继续V1开发

---

### 7.4 失败退出机制

| 情况 | 决策 |
|------|------|
| 3个中介都说"没用" | Kill项目,方向错了 |
| 2个说"有用但不付费" | Pivot定价或功能 |
| 1个说"有用愿意付费" | 继续迭代,扩大测试 |
| 0个愿意推荐同行 | 产品不够好,大幅优化 |

---

## 第八部分: 后续演进路径

### 8.1 V1演进方向 (3-6个月)

#### 功能增强
- ✅ Excel批量导入
- ✅ 贴牌定制 (Logo、域名)
- ✅ 移动端适配
- ✅ 微信通知
- ✅ 12个完整改造方案

#### 算法优化
- ✅ 更复杂的健康分算法
- ✅ 更精准的产品匹配
- ✅ 更智能的方案推荐

#### 数据增强
- ✅ 更多产品 (20+)
- ✅ 更多案例 (100+)
- ✅ 失败原因分析报告

---

### 8.2 V2演进方向 (6-12个月)

#### 智能化
- ✅ 机器学习模型 (健康分预测)
- ✅ AI生成改造方案
- ✅ 成功率预测

#### 生态化
- ✅ API开放 (银行/税务对接)
- ✅ 合作方接入 (改造服务商)
- ✅ 数据共享 (中介联盟)

#### 平台化
- ✅ 从工具到平台
- ✅ 从单点到生态
- ✅ 从服务到规则制定

---

## 附录A: 数据库完整设计

(完整SQL schema见开发文档)

---

## 附录B: 核心算法伪代码

(完整算法实现见开发文档)

---

## 附录C: 关键术语表

- **基座**: 系统的完整架构,包括数据、逻辑、闭环,可渐进演进
- **六层架构**: 数据输入、规则引擎、诊断输出、改造方案、执行追踪、复盘闭环
- **三大闭环**: 诊断-改造-复评、失败-沉淀-优化、成功-复制-扩展
- **存量客户复活**: 激活以前没成交的历史客户
- **改造执行系统**: 把改造建议变成可执行、可追踪的任务
- **健康分**: 0-1000分的企业贷款能力评分
- **缺口**: 客户当前状态与产品要求之间的差距
- **改造方案**: 填补缺口的具体执行计划

---

## 文档版本历史

| 版本 | 日期 | 修改内容 | 修改人 |
|------|------|---------|--------|
| v1.0 | 2025-01-25 | 初始版本 | Cursor |

---

## ✅ 最终自我检查

### 架构检查
- [x] 六层架构是否清晰?
- [x] 数据流是否完整?
- [x] 三大闭环是否说清楚了?

### 可执行性检查
- [x] V0功能是否真的可以2周完成?
- [x] 数据库设计是否合理?
- [x] 技术栈是否可行?

### 文档质量检查
- [x] 是否说清楚了"为什么这样设计"?
- [x] 是否给出了具体的实现建议?
- [x] 是否可以直接给技术实习生开发?

---

**文档状态**: ✅ 已完成

**创建时间**: 2025-01-25

**文档用途**:
- 团队内部: 作为开发的总体设计文档
- 技术实习生: 作为开发任务拆解的依据
- 外部讨论: 和朋友、投资人讨论架构合理性
- 后续迭代: 作为V1/V2演进的蓝图

